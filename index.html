<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Homework W6 Plus</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<style>

button {
  color:aliceblue;
  background-color: green;
  border: none;
  padding: 4px;
}
h2 {
  text-align: right;
  font-size: 50px;
  font-weight: 600;
  margin-right: 30px;
}
h3 {
  text-align: right;
  font-size: 20px;
  font-weight: 600;
  margin-right: 30px;
  text-transform: capitalize;
}
.container {
  font-family: "Raleway", sans-serif;
}
.city {
  font-weight: 600;
  font-size: 80px;
}
.col-12 {
  text-align: right;
  display: inline-block;
}
.city-temp {
  border: none;
}

.temp-value {
  margin-right: 10px;
  display: inline-block;
}
.max-min {
  text-align: right;
  margin-right: 14px;
  font-size: small;
  font-weight: 700;
}
.codedBy {
text-align: left;
font-size: 13px;

  }



</style>

  </head>
  <body>
    <div class="container">
      <div class="card" style="width: 25rem">
        <div class="card-body">
          <h5 class="card-title city title-city" id="current-city">โ๏ธ Lisbon</h5>
          <p class="card-text title-temp">
            <h3 id="day-hour"> </h3>
            <h3 id="weather-description"></h3>
            <h2>25ยบ</h2>
            <br>
            <div class="max-min">
                Max / Min
            </div>
<ul class="list-group list-group-horizontal justify-content-between">
  <li class="list-group-item week-day city-temp">Saturday</li>
  <li class="list-group-item city-temp">20ยบ/25ยบ</li>
</ul>
<ul class="list-group list-group-horizontal justify-content-between">
  <li class="list-group-item week-day city-temp">Sunday</li>
  <li class="list-group-item city-temp">21ยบ/26ยบ</li>
</ul>
<ul class="list-group list-group-horizontal justify-content-between">
  <li class="list-group-item week-day city-temp">Monday</li>
  <li class="list-group-item city-temp">19ยบ/24ยบ</li>
</ul>
<ul class="list-group list-group-horizontal justify-content-between">
  <li class="list-group-item week-day city-temp">Tuesday</li>
  <li class="list-group-item city-temp">18ยบ/23ยบ</li>
</ul>
<ul class="list-group list-group-horizontal justify-content-between">
  <li class="list-group-item week-day city-temp">Wednesday</li>
  <li class="list-group-item city-temp">20ยบ/25ยบ</li>
</ul>
<ul class="list-group list-group-horizontal justify-content-between">
  <li class="list-group-item week-day city-temp">Thursday</li>
  <li class="list-group-item city-temp">21ยบ/26ยบ</li>
</ul>
<br>
  <div class="col-12">
  <form id= form-city>
<input 
  class="form-contro" 
  list="datalistOptions" 
  id="cityFind" 
  placeholder="๐ Not in Linbon?">
<input type="submit" value="search">
<span class="buttonApp">
  <button>Current</button>
</span>
</form></div>

<div class="form-check temp-value" id="temp-cel">
  <input class="form-check-input temp-value" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
  <label class="form-check-label" for="exampleRadios2">
    Cยบ
  </label>
</div>
<div class="form-check temp-value" id="temp-fa">
  <input class="form-check-input temp-value" type="radio" name="exampleRadios" id="exampleRadios3" value="option3">
  <label class="form-check-label" for="exampleRadios3">
    Fยบ
  </label>
</div>

<div class= "codedBy"><a href="https://github.com/isadoraseffair/SheCodes.git">
Open-source code</a> by Isadora Seffair 
</div>
    
<script>
 
 function addZeroLeft(timeNumber) {
        if (timeNumber < 10) {
          return `0${timeNumber}`;
        }
        return timeNumber;
      }

      let now = new Date();
      
      let dayHour = document.querySelector("#day-hour");
      
      let days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
      let day = days[now.getDay()];

      let hours = addZeroLeft(now.getHours());
      let minutes = addZeroLeft(now.getMinutes());

      dayHour.innerHTML = `${day}, ${hours}:${minutes}`;


  function searchCity (event) {
          event.preventDefault ()
          let searchCityInput = document.querySelector ("#cityFind");

          let cityId = document.querySelector ("#current-city");
          cityId.innerHTML = `โ๏ธ ${searchCityInput.value}`;
          
          let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${searchCityInput.value}&appid=a710bd8bd76400c9658ef649d9e81728&&units=metric`;

          axios.get(apiUrl).then(showWeather);
          axios.get(apiUrl).then(showWeatherDescription);
        }
  let form = document.querySelector ("#form-city")
  form.addEventListener ("submit", searchCity);

function showWeather(response) {
  
  let tempRound = Math.round(response.data.main.temp);
  let cityTempInfo = document.querySelector("h2");
  cityTempInfo.innerHTML = `${tempRound}ยบC`;
}

function showWeatherDescription(response) {
  console.log(response.data.weather[0].description);

  let tempDescription = (response.data.weather[0].description);
  let cityDescriptionInfo = document.querySelector("#weather-description");
  cityDescriptionInfo.innerHTML = `${tempDescription}`;
}
// BONUS FEATURE
 function showCurrentLocTemp(response) {
 
  let loc = response.data.name;
  let temp = Math.round(response.data.main.temp);
  let currentCityName = document.querySelector("#current-city");
  currentCityName.innerHTML = `โ๏ธ ${loc}`;
  let currentCityTemp = document.querySelector("h2");
  currentCityTemp.innerHTML = `${temp}ยบC`

}
 let currentCityButton = document.querySelector ("button")
  currentCityButton = addEventListener("click", showCurrentLocTemp)
function newLoc(position) {
  let lat = position.coords.latitude;
  let lon = position.coords.longitude;
  let apiKey = "2bd326a60dc89a53287e446e819664df";
  let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${apiKey}`;

  axios.get(apiUrl).then(showCurrentLocTemp);
}
navigator.geolocation.getCurrentPosition(newLoc);



//  let tempCelButton = document.querySelector ("#temp-cel")
//    function toCelcius(event) {
//let h2 = document.querySelector ("h2")
//h2.innerHTML = `25ยบC`
//}
//tempCelButton.addEventListener ("click", toCelcius)

//let tempFaButton = document.querySelector ("#temp-fa")
//    function toFa(event) {
//let h2 = document.querySelector ("h2")
//h2.innerHTML = `96ยบF`
//
//empFaButton.addEventListener ("click", toFa)



</script>

</html>
